{% extends "base.html" %}  {# This template extends the base layout #}

{% block content %}  {# Begins the content block defined in base.html #}
<section id="booking-form" class="booking-form">
    <!-- Booking form heading -->
    <h2>Book Your Table</h2>

    <form method="POST">
        {% csrf_token %}  {# Protects against Cross-Site Request Forgery attacks #}

        <!-- Full name field -->
        <div class="form-group">
            <label for="id_name">Full Name</label>
            {{ form.name }}  {# Renders the name input field from the Django form #}
        </div>

        <!-- Email address field -->
        <div class="form-group">
            <label for="id_email">Email Address</label>
            {{ form.email }}  {# Renders the email input field from the form #}
        </div>

        <!-- Reservation date picker -->
        <div class="form-group">
            <label for="id_date">Reservation Date</label>
            {{ form.date }}  {# Renders the date input field from the form #}
        </div>

        <!-- Reservation time dropdown -->
        <div class="form-group">
            <label for="id_time">Reservation Time</label>
            {{ form.time }}  {# Renders the time selection field from the form #}
        </div>

        <!-- Number of guests field -->
        <div class="form-group">
            <label for="id_guests">Number of Guests</label>
            {{ form.guests }}  {# Renders the guest count input field #}
        </div>

        <!-- Submit button -->
        <button type="submit" class="submit-button">Submit Booking</button>
    </form>

    {% if message %}  {# Conditionally shows a message if one is passed from the view #}
        <!-- Display error or confirmation message -->
        <p style="color: red; margin-top: 1em;">{{ message }}</p>

        <!-- Scroll to booking form automatically when a message is shown -->
        <script>
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('booking-form').scrollIntoView({ behavior: 'smooth' });
        });
        </script>
    {% endif %}
</section>
{% endblock %}  {# Ends the content block #}
